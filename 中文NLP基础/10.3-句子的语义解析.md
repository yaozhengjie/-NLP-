10.3 句子的语义解析

语义角色标注给出了句子语义解析的理论来源，而语义依存算法则是一个整合了语义角色标注和句法分析的合成实现模型。它的理论基础可以追溯到第2章的三个平面理论，以及语言学家所公认的一些经验事实之中：“凡是由实词和实词构成的汉语句子中，一定同时并存着两种结构关系，它们分别是句法关系和语义关系。而这两种结构关系间并不是一一对应的”，多年的研究使这一论断具有完整而坚实的理论基础。

### 10.3.1 语义依存

语义依存分析是哈工大社会计算与信息检索研究中心最新研究的一种基于语义依存关系的自动句义分析系统。所谓语义依存是指在句子结构中分析实词和实词之间的语义关系，这种关系是一种基于事实的概念依存关系，只有当词语进入到句子时才会存在。语义依存分析目标是跨越句子表层句法结构的束缚，直接获取深层的语义信息。

LTP-cloud网站上发布了一个语义依存的DEMO版本（URL:http://www.ltp-cloud.com/demo/），为了进一步说明，下面给出几个例子，如表10.13所示。

表10.13 几个语义依存的例子

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784908331-876fee7c-28bb-4e13-ae62-c7a4f02f20cc.jpeg)

表10.13中的三个句子，其句法结构各不相同，但是表达了同一个语义信息，那么其语义依存解析的结果也相同。

以往的NLP任务都是以句法分析作为核心的分析流程，句法解析是通向语义角色标注等后续阶段的必经之路。虽然有人也提出过从语义组块直接映射到语义角色标注的方法，但是由于精度问题，始终没有获得本质的突破。语义依存方法的提出则从根本上解决了语义分析问题，依存原理来源于配价语法，而配价语法是基于语义的一种支配与从属关系，因此依存的概念本质上也是一种基于语义的关系。句法依存仅仅是借用了依存的特征来实现句法的解析。

语义角色标注是公认的能够真正解析句义数据结构，通过对句子的施事、受事、与事等核心角色，以及地点、时间、行为方式等附属角色的分析，语义角色标注天然地与词汇的配价理论相一致，从理论上当然能够转化为依存结构。

以往的语义角色标注的自动分析需要以句法分析为基础，句法分析的错误会带入到语义角色标注中。而语义依存分析直接在基本语言处理的基础上一步走到比语义角色标注更深层的语义分析阶段。这个过程在一步中完成将极大减少错误的级联，大大提高了句子语义角色标注的精度和速度。

语义依存分析的系统架构如图10.5所示。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784910421-7019b489-4f29-46ed-8bcb-a0796f1dff96.jpeg)

图10.5 语义依存分析的系统架构

关于语义依存标注规范，哈工大给出了如下详细的说明。

语义依存与句法依存所使用的依存结构建立规则是不同的，语义依存分析直接反映语义信息，因此具有语义关系的词对直接构成弧，而不需要经过介词或助词。这些不同，比较明显地体现在DNP/DVP短语、介词短语、方位短语中。

（1）并列结构。并列结构包括词级别、短语级别、从句级别的并列。不论是对于哪一个级别，依存结构建立都按照“最后一个并列成分作为核心节点”的原则进行。在并列结构中，最后一个单词、短语或从句被选为核心节点。如图10.6（a）所示，(NN和平)、(CC与)和(NN安全)被语法分析为姐妹节点。在语义依存中，如图10.6（b）所示，最后一个构成成分(NN安全)被标记为核心节点，(NN和平)和并列连词(CC与)被标记为修饰节点。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784912028-ccfd04fb-f361-4ffc-9e88-b570fa06660b.jpeg)

图10.6 并列结构

（2）介词短语。在句法上，介词短语中的介词被选为核心节点。为了更贴近语义，在语义依存中，将介词短语的宾语作为核心节点。图10.5给出一些实例，在图10.7（b）中，从句法上看，核心节点是“P（离）”；在语义上，IP为核心节点。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784914011-65f5cb89-ca68-4966-bc32-bd385b556131.jpeg)

图10.7 介词短语

（3）方位短语。形如“XP+LC”的方位短语是由方位词带有NP短语或IP短语作为补语构成的。在一些研究中，LC被选为LCP短语的核心节点。相反的，NP或IP被选为LCP短语的核心节点。图10.8给出了一些实例，在图10.8（a）中，从句法上看，“(NP (NR西门子)(DEG的)(NR亚太)(NN发展)(NN战略))”是“(LC中)”的修饰词；在语义上，NP短语是核心节点。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784916062-a1ab0e5c-6187-447c-a1eb-50f53680f1a9.jpeg)

图10.8 方位短语

下面给出语义依存分析的标注规范（URL: http://www.ltp-cloud.com/intro/#sdp_how），如表10.14所示。

表10.14 LTP语义依存分析的标注规范

| 关系类型     | Tag        | Description        | Example                                     |
| ------------ | ---------- | ------------------ | ------------------------------------------- |
| 施事关系     | Agt        | Agent              | 我送她一束花（我<--送）                     |
| 当事关系     | Exp        | Experiencer        | 我跑得快（跑-->我）                         |
| 感事关系     | Aft        | Affection          | 我思念家乡（思念-->我）                     |
| 领事关系     | Poss       | Possessor          | 他有一本好书（他<--有）                     |
| 受事关系     | Pat        | Patient            | 他打了小明（打-->小明）                     |
| 客事关系     | Cont       | Content            | 他听到鞭炮声（听-->鞭炮声）                 |
| 成事关系     | Prod       | Product            | 他写了一本小说（写-->小说）                 |
| 源事关系     | Orig       | Origin             | 我军缴获敌人四辆坦克（缴获-->坦克）         |
| 涉事关系     | Datv       | Dative             | 他告诉我一个秘密（告诉-->我）               |
| 比较角色     | Comp       | Comitative         | 他成绩比我好（他-->我）                     |
| 属事角色     | Belg       | Belongings         | 老赵有俩女儿（老赵<--有）                   |
| 类事角色     | Clas       | Classification     | 他是中学生（是-->中学生）                   |
| 依据角色     | Accd       | According          | 本庭依法宣判（依法<--宣判）                 |
| 缘故角色     | Reas       | Reason             | 他在愁女儿婚事（愁-->婚事）                 |
| 意图角色     | Int        | Intention          | 为了金牌他拼命努力（金牌<--努力）           |
| 结局角色     | Cons       | Consequence        | 他跑了满头大汗（跑-->满头大汗）             |
| 方式角色     | Mann       | Manner             | 球慢慢滚进空门（慢慢<--滚）                 |
| 工具角色     | Tool       | Tool               | 她用砂锅熬粥（砂锅<--熬粥）                 |
| 材料角色     | Malt       | Material           | 她用小米熬粥（小米<--熬粥）                 |
| 时间角色     | Time       | Time               | 唐朝有个李白（唐朝<--有）                   |
| 空间角色     | Loc        | Location           | 这房子朝南（朝-->南）                       |
| 历程角色     | Proc       | Process            | 火车正在过长江大桥（过-->大桥）             |
| 趋向角色     | Dir        | Direction          | 部队奔向南方（奔-->南）                     |
| 范围角色     | Sco        | Scope              | 产品应该比质量（比-->质量）                 |
| 数量角色     | Quan       | Quantity           | 一年有365天（有-->天）                      |
| 数量数组     | Qp         | Quantity-phrase    | 三本书（三-->本）                           |
| 频率角色     | Freq       | Frequency          | 他每天看书（每天<--看）                     |
| 顺序角色     | Seq        | Sequence           | 他跑第一（跑-->第一）                       |
| 描写角色     | Desc(Feat) | Description        | 他长得胖（长-->胖）                         |
| 宿主角色     | Host       | Host               | 住房面积（住房<--面积）                     |
| 名字修饰角色 | Nmod       | Name-modifier      | 果戈里大街（果戈里<--大街）                 |
| 时间修饰角色 | Tmod       | Time-modifier      | 星期一上午（星期一<--上午）                 |
| 反角色       | r + main   | role               | 打篮球的小姑娘（打篮球<--姑娘）             |
| 嵌套角色     | d + main   | role               | 爷爷看见孙子在跑（看见-->跑）               |
| 并列关系     | eCoo event | Coordination       | 我喜欢唱歌和跳舞（唱歌-->跳舞）             |
| 选择关系     | eSelt      | event Selection    | 您是喝茶还是喝咖啡（茶-->咖啡）             |
| 等同关系     | eEqu       | event              | Equivalent他们三个人一起走（他们-->三个人） |
| 先行关系     | ePrec      | event              | Precedent首先，先                           |
| 顺承关系     | eSucc      | event              | Successor随后，然后                         |
| 递进关系     | eProg      | event Progression  | 况且，并且                                  |
| 转折关系     | eAdvt      | event adversative  | 却，然而                                    |
| 原因关系     | eCau       | event Cause        | 因为，既然                                  |
| 结果关系     | eResu      | event Result       | 因此，以致                                  |
| 推论关系     | eInf       | event Inference    | 才，则                                      |
| 条件关系     | eCond      | event Condition    | 只要，除非                                  |
| 假设关系     | eSupp      | event Supposition  | 如果，要是                                  |
| 让步关系     | eConc      | event Concession   | 纵使，哪怕                                  |
| 手段关系     | eMetd      | event Method       | —                                           |
| 目的关系     | ePurp      | event Purpose      | 为了，以便                                  |
| 割舍关系     | eAban      | event Abandonment  | 与其，也不                                  |
| 选取关系     | ePref      | event Preference   | 不如，宁愿                                  |
| 总括关系     | eSum       | event Summary      | 总而言之                                    |
| 分叙关系     | eRect      | event Recount      | 例如，比方说                                |
| 连词标记     | mConj      | Recount Marker     | 和，或                                      |
| 的字标记     | mAux       | Auxiliary          | 的，地，得                                  |
| 介词标记     | mPrep      | Preposition        | 把，被                                      |
| 语气标记     | mTone      | Tone               | 吗，呢                                      |
| 时间标记     | mTime      | Time               | 才，曾经                                    |
| 范围标记     | mRang      | Range              | 都，到处                                    |
| 程度标记     | mDegr      | Degree             | 很，稍微                                    |
| 频率标记     | mFreq      | Frequency Marker   | 再，常常                                    |
| 趋向标记     | mDir       | Direction Marker   | 上去，下来                                  |
| 插入语标记   | mPars      | Parenthesis Marker | 总的来说，众所周知                          |
| 否定标记     | mNeg       | Negation Marker    | 不，没，未                                  |
| 情态标记     | mMod       | Modal Marker       | 幸亏，会，能                                |
| 标点标记     | mPunc      | Punctuation Marker | ，。！                                      |
| 重复标记     | mPept      | Repetition Marker  | 走啊走（走-->走）                           |
| 多数标记     | mMaj       | Majority Marker    | 们，等                                      |
| 实词虚化标记 | mVain      | Vain Marker        |                                             |
| 离合标记     | mSepa      | Seperation Marker  | 吃了个饭（吃-->饭）洗了个澡（洗-->澡）      |
| 根节点       | Root       | Root               | 全句核心节点                                |

最后，简单谈谈语义依存分析的算法及训练数据。语义依存分析可以有两种算法思路：一种是基于图的方法；另一种是基于深度学习的方法。《汉语语义依存分析》一文给出了基于图的算法，基于图的方法需要分别计算句子的语义依存结构和依存弧上关系的权重，搜索算法使用Eisner算法，弧权重使用Online算法。

算法使用的特征由两部分构成：一部分由依存弧本身构成的特征；另一部分为语义关系构成的特征。其中，弧特征用来计算两个节点之间构成一条弧的概率；关系特征计算了节点K作为儿子节点或者核心节点，依存弧方向为dir时，对应依存关系为t的概率。这两种特征选择的方式，都是仅考虑了两个有依存关系的词之间的信息。为了得到更精确的边权重信息，还使用更高阶的特征、每个词的子孙节点及兄弟节点的信息。

（1）Eisner算法。该算法以span为解码的基本单位，span表示输入句子的一个片段对应的子树。与组块不同的是，span中的核心词只能位于片段首或尾，即span只包括这个词左边或者右边的子孙节点。另外，除核心词外的另外一个片段首或尾词的修饰成分可以是不完整的，即span可以不包括这个词左边的子孙节点或者右边的子孙节点。对于其他词，span包括其所有的子孙节点。span的这种特性使得解码算法独立地确定一个词左边的修饰成分和右边的修饰成分，从而降低算法的复杂度。

（2）Online算法。该算法是一种基于距离最大化的学习算法，在文本分类、序列标注、依存分析问题上都表现出了很好的性能。本文采用的是MST—Parser中的方法，即K—MIRA(KBestMargin Infused Relaxed Algorithm)。

本文采用4 000句进行训练、620句进行测试。表10.15给出了实验结果。其中，UAS表示依存弧准确率（不含依存关系）, LAS表示依存关系准确率。

表10.15 LTP语义依存的算法精度

| 算法                    | UAS    | LAS    |
| ----------------------- | ------ | ------ |
| 基于图的算法            | 80.21% | 65.62% |
| 基于图的算法+最大熵模型 | 81.36% | 68.18% |

——《汉语语义依存分析》（郭江，车万翔，刘挺）

《汉语语义依存分析》一文发表于2011年，距今已经有5年时间，而语义依存模块发布时间是2016年，估计算法应该有所改变，精度也较之以往有很大提高。由于目前该项目没有开源，也没有详尽的资料，所以尚不得而知。不过所幸的是，哈工大发布了语义依存的CoNLL格式的标注训练和测试数据，中文语义依存分析可在两个语料库上进行评测。其中，THU文件夹内为清华大学语义依存网络语料，HIT文件夹内为哈尔滨工业大学依存语料库。如下展示数据是基于宾州树库（CTB）的，分词和词性标注之后两列加入了依存弧和语义标签，读者可以根据此数据训练自己的算法。

​        1   建筑 建筑 NN  NN    _    2    r-agent   _    _

​        2   公司 公司 NN  NN    _    3    agent     _    _

​        3   进   进   VV  VV    _    15   s-succession _      _

​        4   区   区   NN  NN    _    3    LocationFin    _    _

​        5   ,    ,    PU  PU    _    15   PU   _    _

​        6   有关 有关 JJ  JJ    _    7    d-restrictive_      _

​        7   部门 部门 NN  NN    _    9    agent     _    _

​        8   先   先   AD  AD    _    9    TimeAdv   _    _

​        9   送上 送上 VV  VV    _    15   s-succession _      _

​        10  这些 这些 DT  DT    _    12   d-deno    _    _

​        11  法规性    法规性    NN   NN   _    12   d-attribute  _    _

​        12  文件 文件 NN  NN    _    9    possession     _    _

​        13  ,   ,   PU  PU    _    15   PU   _    _

​        14  然后 然后 AD  AD    _    15   TimeAdv   _    _

​        15  有   有   VE  VE    _    0    ROOT_     _

​        16  专门 专门 JJ  JJ    _    17   d-attribute    _    _

​        17  队伍 队伍 NN  NN    _    15   content   _    _

​        18  进行 进行 VV  VV    _    15   content   _    _

​        19  监督 监督 NN  NN    _    20   s-coordinate _      _

​        20  检查 检查 NN  NN    _    18   content   _    _

​        21  。   。  PU  PU    _    15   PU   _    _

训练数据可从数据堂免费下载（URL:http://www.datatang.com/data/44116）。

虽然目前有可能尚不存在针对语义依存分析的实用算法，但语义依存概念的提出和在此基础上建立的语义标注规范是对语义解析的一种新突破，对更高层次的研究和应用，如自动问答、信息抽取、机器翻译、信息检索、自动文摘等具有深远的意义。

### 10.3.2 完整架构

根据上述分析给出句子的语义解析架构，如图10.9所示。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784918022-ef85ea09-2d84-472f-8f23-249f2e18609b.jpeg)

图10.9 句子的语义解析架构

该架构共包含三大部分，分别为词法分析、句法分析和句义分析。

第一步为词法分析，该阶段有两个任务：一个是词形的解析，包括：中文分词、命名实体识别、语义组块；另一个是词性的解析，包括：词性标注和组块标注。

词法分析完成之后，其结果可以进入第二步句法分析。在句法分析阶段，首先要对复句进行切分，变为单句集合的形式。然后进行依存句法（或短语结构句法）分析，获得分析结果进入共指消解，还原被压缩部分的指称成分。

第三步为句义分析，分为如下几种情况。

❑ 如果输入的是单句，也不需要共指消解，那么直接使分词、词性标注后的句子进入第三步进行句义分析。

❑ 如果输入的是复句，但不需要共指消解，那么将分词、词性标注后的句子先做复句切分，切分之后的结果再做句义分析。

❑ 如果输入的是复句，而且需要共指消解，那么将分词、词性标注后的句子先做共指消解，再做复句切分，最后将结果做句义分析。

最后，用如下例子来解释整个过程。

（1）例句。

张三一大早就赶到了学校。他先到食堂吃早餐，然后他到宿舍拿自己的教材和笔记本。当他匆忙来到教室时，发现课本拿错了。

（2）分词、词性标注后结果。

张三/nh一大早/nt就/d赶到/v了/u学校/n。/wp他/r先/d到/p食堂/n吃/v早餐/n , /wp然后/c他/r到/v宿舍/n拿/v自己/r的/u教材/n和/c笔记本/n。/wp当/p他/r匆忙/a来到/v教室/n时/n , /wp发现/v课本/n拿/v错/v了/u。/wp

（3）共指消解。

张三/nh一大早/nt就/d赶到/v了/u学校/n。/wp他/【r张三】先/d到/p食堂/n吃/v早餐/n , /wp然后/c他/r【张三】到/v宿舍/n拿/v自己/r的/u教材/n和/c笔记本/n。/wp当/p他/r【张三】匆忙/a来到/v教室/n时/n , /wp 【张三】发现/v课本/n拿/v错/v了/u。/wp

（4）复句切分。

❑ 张三/nh一大早/nt就/d赶到/v了/u学校/n。/wp

❑ 他/r【张三】先/d到/p食堂/n吃/v早餐/n , /wp

❑ 然后/c他/r【张三】到/v宿舍/n拿/v自己/r的/u教材/n和/c笔记本/n。/wp

❑ 当/p他/r【张三】匆忙/a来到/v教室/n时/n , /wp

❑ 【张三】发现/v课本/n拿/v错/v了/u。/wp

（5）语义依存。

张三/nh一大早/nt就/d赶到/v了/u学校/n。/wp

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784918789-7101890d-b7b8-40ff-b764-bf775478da7b.jpeg)

他/r【张三】先/d到/p食堂/n吃/v早餐/n , /wp

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784920984-41470c6a-6e02-425b-b34b-88471b61bd4d.jpeg)

然后/c他/r【张三】到/v宿舍/n拿/v自己/r的/u教材/n和/c笔记本/n。/wp

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784922040-9e2e8e01-bc48-4b19-a10e-436f7fe1f16e.jpeg)

当/p他/r【张三】匆忙/a来到/v教室/n时/n , /wp

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784923006-a4dc0266-152d-4e9f-beda-f7f67a930aa0.jpeg)

【张三】发现/v课本/n拿/v错/v了/u。/wp

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784925055-34c04512-4a66-45a2-85ac-b1f5e651f7d5.jpeg)

通过该架构可以完整地解析一个句子的语义内容，并可用于相应的诸如问答系统、框架语义抽取、简单对话这类更高级的NLP应用系统之中。

### 10.3.3 实体关系抽取

语义依存使NLP走向大规模应用成为可能。最新的NLP应用，诸如问答系统中的问句分析、问句检索、答案抽取都离不开语义依存。除此之外，情感分析中的语义倾向判断、评价对象抽取；信息抽取中的事件抽取、主题抽取等；信息分类的文本分类、语言意图分类，以及句子相似度计算等能看到语义角色标注的身影。

本文的主要内容大多涉及一些NLP的基础层应用，结合前文悬而未决的知识库实体关系抽取问题，这里给出使用语义角色标注来解决此类问题的一些尝试。实体关系抽取是自动构建知识库的最重要的领域。这方面的研究很多，常用的实体关系与RDF和OWL的规则是一致的，基本形式已经比较稳定。下面通过一个实例来看一下实体关系抽取的规范。目前实体关系被描述为一个五元组。

❑ 实体元素1。构成关系的第一个实体。

❑ 实体元素2。构成关系的第二个实体。

❑ 实体关系类型。实体之间构成的关系类型可用ACE实体关系类型或HowNet的语义角色来描述。

❑ 关系指示词。在上下文中能描述两个实体构成关系的词语，可以是一个词语也可以是多个词语，主要根据VP的构成来确定。

❑ 关系是否对称。两个关系元素的相对位置改变之后，是否还构成相同的关系，如果相同那么就对称，否则不对称。

该五元组可以表示为如下形式。

<arg1, arg2, ACEType, relationWord, isSymmetrical>

下面通过一个实例来说明。

例句：国务院/Organization总理/n李克强/Person出生/v于/p 1955年7月/TIME。

识别结果1:<国务院，李克强，机构关系，总理，否>

识别结果2:<李克强，1955年7月，出生，否>

目前实体关系抽取常用的方法大致有如下两种。

1）基于规则的方法

通过人工书写来描述两个实体所在结构的规则，前文中的DBPedia主要采取这种方法。这种方法要求规则构建者对领域的特点有深入的了解，投入成本大、移植性差，所以逐渐被其他方法所取代。前面已经详细介绍过了，这里不再赘述。

2）基于特征的方法

本节所选择的特征分为两类：一类是一般常用的特征；另一类是语义角色特征。根据特征训练一个分类器，之后使用训练好的分类器完成关系抽取任务。经过多年的研究，常用分类器有最大熵分类器和支持向量机，并且支持向量机的效果最好。由于机器学习算法已经发展得比较成熟，因此实体关系抽取转化为分类问题后，其关键问题就在于有效特征的选择。

（1）常用特征。所谓常用特征，主要是指以实体的上下文、词性、动词特征、距离特征，以及使用句法信息作为抽取特征。常用特征集如下。

❑ 实体及其上下文特征主要包含实体中心词、实体前两个词、实体后两个词，以及这些词的词干和词性。实体及其上下文特征是最基本、最简单的特征。

❑ 动词特征：句子中的所有动词。

❑ 距离特征：指要抽取实体关系的两个实体间的词距。

❑ 实体扩展特征：指实体的同义词和上位词。

上例中识别结果2的特征如表10.16所示。

表10.16 上例中识别结果2的特征

| arg1             | 李克强/Person                                                | arg2         | 1955年7月/TIME                                    |
| ---------------- | ------------------------------------------------------------ | ------------ | ------------------------------------------------- |
| arg1的上下文     | Head-2：国务院/Organization, Head-1：总理/nHead+1：出生/vHead+2：于/p | arg2的上下文 | Head-2：出生/v Head-1：于/pHead+1:NULLHead+2:NULL |
| arg1与arg2的距离 | 3                                                            | 动词         | 出生/V                                            |
| 实体扩展特征     | 略                                                           | —            | —                                                 |

（2）语义角色特征。所谓语义角色特征就是句子的语义角色标注或语义依存标注。在使用之前，需要为语义角色特征做出如下定义。

❑ 语义角色对（Semantic Role Pair, SRP）特征定义：若实体e1相对于谓词V的语义角色为R1，实体e2相对于V的语义角色为R2，则(R1, R2)称为实体对(e1, e2)相对于谓词V的语义角色对特征。实体对(e1, e2)在不同的谓词框架中将构成不同的语义角色对特征。

❑ 谓词（Predicate, Pred）特征定义：若实体对(e1, e2)相对于谓词V存在语义角色对(R1, R2)，则V的词干s(V)称为实体对(e1, e2)的谓词特征。

❑ 语义角色对+谓词组合（Semantic Role Pair & Predicate, SRP&Pred）特征定义：若实体e1相对于谓词V的语义角色为R1, e2相对于V的语义角色为R2，则(R1, s(V), R2)称为实体对(e1, e2)相对于谓词V的“语义角色对+谓词”组合特征，其中s(V)表示谓词V的词干。

❑ 实体间词语（Inter-EntityWords, IEW）特征定义：2个实体间的词语的词干称为实体间词语特征。

——《基于语义角色的实体关系抽取》

以上例中识别结果2来说明上述4个定义。例句首先按照ProBank或语义依存关系进行了语义角色的标注。其中，V代表谓词；A0代表施事者；A1代表受事者。句子中标记的实体e1为“李克强”，实体e2为“1955年7月”，对于上述定义的4个特征，从句子中抽取出的特征值为：“（Arg0, Arg1）”, “出生/V”, “（李克强，出生，1955年7月）”,“出生/v于/p”。

上例中识别结果2的语义角色特征如表10.17所示。

表10.17 上例中识别结果2的语义角色特征

| e1：李克强 | Arg0                  | e2:1955年7月   | Arg1                        |
| ---------- | --------------------- | -------------- | --------------------------- |
| (e1, e2)   | （李克强，1955年7月） | (R1, R2)       | (Arg0, Arg1)                |
| s(V)       | 出生/V                | (R1, s(V), R2) | （李克强，出生，1955年7月） |
| IEW:       | 出生/v于/p            |                |                             |

（3）实体关系抽取训练。按照本文提出的实体关系抽取方案，根据上述一系列特征，利用SVM算法构造分类器以判断实体关系类型。

本文使用的实体关系抽取方案具体步骤如下。

① 原始语料预处理。对原始语料进行词性标注、句法分析和语义角色标注。

② 特征抽取及特征向量构造。对于语料中每条句子中的实体对，先从预处理后的文本中抽取出上文描述的特征，然后将抽取出的每个特征值作为实体对的特征向量中的一维，由此构成了实体对的特征向量。

③ 构造分类器。用训练语料中实体对的特征向量构造SVM分类器。

④ 输出分类。利用训练得到的SVM分类器判断测试语料中实体对的关系类型。

毛小丽等在《基于语义角色的实体关系抽取》一文中，使用SemEval-2010评测任务8进行语义角色标注的实体关系抽取实验。在SemEval-2010评测任务8将实体关系类型分为9类，提供的训练语料包含8 000个句子，每个句子均标出了2个实体及其所属关系类型。在《基于语义角色的实体关系抽取》论文所述的实验中，将8 000个句子的前800个句子作为测试语料，其余的句子作为训练语料。实验首先对语料进行词性标注、句法分析和语义角色标注等预处理。其中，语义角色标注使用了CCG SRL（Punyakanok et al,2004）工具。然后按照常用特征和语义角色特征抽取方法产生特征向量。最后使用LibSVM对抽取出的特征向量进行训练分类。论文中的实验分为如下两个实验。实验1对本文提出的语义角色特征进行了验证，并与常用特征的实验结果进行了比较。实验2使用不同的机器学习方法构造分类器以验证SVM在本文提出的关系抽取方案中的有效性。本节仅给出实验1各种特征下的对比结果，如表10.18所示。

表10.18 为不同特征选取方案的性能对比

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784926207-6c6f490e-162e-444d-a52c-b64e205f4849.jpeg)

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784929312-5bd0435d-dc93-45d4-ace9-250f8be24d4b.jpeg)

如表10.19所示，虽然实验使用的是英文语料，但是实验的过程比较细致，比起那种在大规模未经校对的中文语料上的实验结果更能说明问题。得出如下结果。

特征集1和特征集3的对比实验结果表明，在常用特征基础上只加入语义角色对特征反而降低了关系抽取性能，这是因为任何一个实体的语义角色都是相对于一个谓词而言的，离开了谓词语义角色就失去了本来应该包含的丰富的语义信息。特征集2和特征集3的实验对比表明，语义角色对整体作为一个特征比实体的每个语义角色分别作为特征更能有效地区分2个实体间的关系类型。特征集3和特征集4的对比实验表明，语义角色对所依赖的谓词能够进一步提高实体关系抽取性能，并且通过特征集1和特征集3的对比实验结果类推，语义角色对+谓词组合特征对实体关系的分类有一定的意义。特征集4和特征集5的对比实验结果显示出实体间词语特征对区分不同的实体关系有一定的作用，这是因为有些时候句子中2个实体不存在语义角色对特征，这时就需要实体间词语特征区分实体间关系。特征集5和特征集6的对比实验结果表明，抽取出词语的词干对提高分类性能是有好处的。

从特征集1和特征集6的实验对比结果可以看出，在常用特征基础上加入语义角色特征后系统对于关系分类的F1值比没有加入语义角色特征时提高了4%，在一定程度上提高了实体关系抽取性能。

——《基于语义角色的实体关系抽取》
