7.3 语义知识库

语义知识库是现代语义网和百科知识库的前身，早期的语义知识库都是由手工创建的，虽然其规模远小于现在的百科知识库，但是经历了义原抽取、分类体系的规划、属性和属性值的界定几个步骤。它是现代语义理论在实践应用的产物。知识库的建设使用了义素分析法、本体论等语义学甚至哲学的理论。从小规模语料的实验结果来看，这类知识库基本可以满足语义辨析的需要。后来，W3C组织公布的语义网（Semantic Web）规范，从理论上来看，两者之间一脉相承，差异不大。其中，HowNet中的实体与OWL本体的概念相对应，事件与Property相对应，属性与Attribute相对应。唯一不同的是，语义网将知识库的构建从领域知识扩展到了整个互联网。

因此，通过对HowNet的深入研究，读者可以了解到如何构建一个汉语通用知识库的全过程，有助于读者从一个整体上把握一个知识库的完整构建原理和步骤。

### 7.3.1 知识库与HowNet简介

为了实现语义的辨析和挖掘，人们开发和建设了一些重要知识库。下面简要介绍早期的几个著名的语义知识库。在国际上最为知名的以词汇为基础的知识库为WordNet，它是由普林斯顿大学认知科学实验室George A. Miller等开发的英语词汇知识库。WordNet试图建立一个模仿人脑词汇组织原则的词汇网络，在构建中利用心理学的发现和心理词典的研究成果。在汉语领域，最为著名的是知网（英文名称为HowNet），是一个以汉语和英语的词语所代表的概念为描述对象，以揭示概念与概念之间，以及概念所具有的属性之间的关系为基本内容的常识知识库。

HowNet由中国科学院董振东先生开发，第一版于1999年发布。早在1988年前后，董振东就曾在他的几篇文章中提出有关知识库构建的观点。一开始，构建知网的目的是非常明确的，就是建立一个常识性的知识体系或语言以外的知识体系。1988年董振东提出：

知识被假定为一个系统，它包含一个基于关系的和基于推理的系统。在基于关系的系统中有两种类型的关系：一种是概念特征之间的关系；另一种是事件之间的关系。概念由两部分组成，即概念核心和与概念相关的特征。推理系统是基于基关系工作的。有两种类型的推理：一种是基于概念特征的关系，其中典型的表现是替代；另一种是基于事件的关系，这种关系可以典型地看作"who-done-it"类的事件。

HowNet是一个典型的语义场论的知识库体系。下面来研究一下其构建的一些细节内容。下文所述的内容部分参考了董振东先生的HowNet And the Computation of Meaning。虽然目前计算语言学界已经多用word2Vec计算出的语义向量来表示词汇，并计算词汇之间的语义相似度，但是经过深入的研究，HowNet的设计思想仍旧有精妙之处，值得学习。HowNet对后代知识库系统的构建具有很重要的意义。

### 7.3.2 发掘义原

知网（HowNet）认为：“在计算隐含在文字和语言结构背后的意义时，应该确定一组意义的最小单位。而这些最小单位的意义是不能再被分解的。”这就是HowNet中义原的定义。显然，义原的概念也就是前文所说的义素。HowNet还给出如下几个例子：“劫持”的含义可以被分解为“抢取”和“使用武力”，以及“行人”的含义可以被分解成“人”和“用脚行走”，而“抢取”、“人”、“行走”和“使用武力”似乎不能被进一步分解或者至少不容易再进一步分解。它们都作为知识库最基本的义原存在。

义素分析的理论是基于还原论思想的。这样就产生了如何才能找到汉语中的全部义原问题。经过多年的探索，人们发现，中文语言在字面水平就表现出相当多的语义信息。中国方式的汉字组成和概念形式都表明它们可以包含一种复杂的和语用的系统关系。

首先从造字法的角度来分析，汉语常用字有6 000多个字符，而大多数中文字都是形声字，由两部分构成：表义部分和表音部分。大多数字符由意义部分揭示了意义或给出相关意义的提示，而语音成分表示该字符的可能发音，字符“洋”由两部分组成。它的第一部分“氵”（称为“三点水”）是义部，与“水”有关；第二部分“羊”表示字符的发音。有趣的是，如下所有中文字都具有相同的义部“氵”:“江”、“湖”、“溪”、“海”、“流”、“泥”、“漕”，因为它们的含义都与“水”有关。

如下是关于义部和声部更多的例子。

妈=（义部）女+（声部）马

房=（义部）户+（声部）方

吐=（义部）口+（声部）土

柏=（义部）木+（声部）白

睛=（义部）目+（声部）青

所有的中国文字都是由偏旁部首构成的，有时候偏旁本身就是一个字符。同时，几乎所有的中文词和表达式都由文字组成，并且有时字符本身就可以被视为一个字。表7.3显示了由偏旁部首构成的汉字，在这里可以清楚地看到它是如何携带意义的。

表7.3 偏旁部首与汉字

| 偏旁部首 | 含义 | 汉字           |
| -------- | ---- | -------------- |
| “氵”     | 水   | 河、海、溪、流 |
| “钅”     | 金属 | 银、铁、铜、锈 |
| “火”     | 火   | 烟、烤、烧、烫 |
| “灬”     | 烧   | 热、煮、煎、照 |
| “饣”     | 食物 | 饼、饿、饱、饮 |
| …        | …    | …              |

一些中国字可作为单字词，如“走”、“医”，但有些不能，它们只能作为复音词和短语的组成部分。在现实中更多的是复音词和短语，换句话说，中国大部分的词语是多字符组合。同样的中文字和词句的组合更是语义相关的。因此，可以找到一些词汇，甚至短语的中文语言系统，这与印欧语言的区别是非常明显的。再从词汇的角度来看看如下两组，并研究中文方式的概念形式，不用在意它们是单词还是短语，虽然在传统的词典中它们都被视为单词。

如表7.4所示，在第一组中，所有的中文词汇都包含汉字“医”，意思是“给……治病”，在第二组中，所有的词汇都包含汉字“院”，其意义是“机构”。这是典型的中文构词方式。对于发现义原而言，最重要的是要找出表达一个词或短语的意义构成。很明显，它们都由两个有意义的组成部分构成。可以相信，义原一定存在于其中之一。在上述事实的启发之下，1989年董氏父子开始了一项实验，他们选择了约4 000个常用的中国字，提取并列出它们所有的词义。他们使用了一个英文单词加一个中文词或表达式的三部分组合，用“|”进行分隔，并在义原中表示出意义。这里为了节省空间，知识库省略了中文部分。换句话说，在表7.5中像“abandon|”这样的符号不再是一个英文单词，而是表达为义项或义原。然后做了一个4 000个字符的义项表，在表7.5中列出。

表7.4 复音词中的义项

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784728023-d8fdb83f-26cc-436a-bd88-da34ca7efc15.jpeg)

表7.5 语原列表

| 词   | 义原                           |
| ---- | ------------------------------ |
| 放   | abandon\| add\| lend\| shoot\| |
| 丢   | abandon \| lose\| throw\|      |
| 置   | buy\| put\|                    |
| 借   | borrow\| lend\| use\|          |
| ……   | ……                             |

如表7.5所示，通过删除所有的重复词义，抽取出初步测试的义原表，它包括1 500种不同的义项。虽然它覆盖了4 000个字符，但是类似的义项之间存在一些细微的差别。它需要一些细微的修改或调整。之后，又花费了3年的时间，使用这最初的1 500个义原为50 000个中文词和短语进行标记，并对应出含义相同的英语词。这个过程本身是一个大型语言工程实验，它虽然耗费了大量的劳动和时间，但证明它用于HowNet的后续研究和发展是非常有价值的。基于表7.5的一些义原，看看它们是如何支配概念的。其用于标记英文和中文词和短语。

最后，给出使用“eat|”和“use|”作为义原的两个例子，内容如下。

（1）“eat|”被提取为“to take solid food”的义原，它可以被用来标记如下。

英语：eat, take, take in, etc。

中文：吃、餐、用、食、进等。

（2）“use|”被提取为“to make work”的义原，它可以被用来标记如下。

英语：use, utilize, utilise, apply, employ, etc。

中文：用、动、使、采用、利用、应用、运用等。

### 7.3.3 语义角色

语义角色被定义为知网的内在关系，其中事件的参与者有真实的或想象的上下文语境，这也被称为主题角色或深层格。知网的语义角色来自超过95 000个中文义项、英语单词及固有语义角色的表达方式。在讨论知网的语义角色之前，有如下两点需要强调。

（1）语义角色不应该考虑语法结构的定义。

（2）它们是严格规定的，并能匹配每个事件类，而且每个事件都同时用中文和英语编写。

如图7.8所示，带箭头的线段上的标签就是语义角色。知网使用了91个语义角色其分为两类：主要语义角色和周边语义角色。其子分类如下。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784728970-cc8d2570-bc8b-43f8-b771-eb8da970c092.jpeg)

图7.8 HowNet语义角色图

❑ 主要语义分类角色。

➢ 基本语义角色（6个）:agent, coagent, existent, experiencer, possessor, relevant。

➢ 受影响的语义角色（11个）:isa, ContentProduct, PartOfTouch, PatientPart, atientProduct, content, contrast, partner, patient, possession, target。

❑ 周边语义角色。

➢ 时间（12个）:DurationAfterEvent, DurationBeforeEvent, EventProcess, SincePeriod, SincePoint, TimeAfter, TimeBefore, TimeFin, Timelni, TimeRange, duration, time。

➢ 空间（10个）:LocationFin, Locationlni, LocationThru, SourceWhole, Statelni, StateFin, direction, distance, location, source。

➢ 结果（8个）:ResultContent, ResultEvent, Resultlsa, ResultWhole, Purpose, result, sequence, succeeding。

➢ 方式（11个）:accompaniment, aspect, cost, degree, frequency, instrument, manner, material, means, method, times。

➢ 修饰语（16个）:HostOf, MaterialOf, OfPart, PatientAttribute, PatientValue, RelateTo, Belong, concerning, descriptive, host, modifier, quantity, range, restrictive, scope, whole。

➢ 基础（6个）:AccordingTo, CoEvent, beneficiary, cause, concession, condition

➢ 比较（2个）:ContentCompare, QuantityCompare。

➢ 搭配（6个）:and, besides, but, except, or, transition。

➢ 注释（2个）:comment, emphasis。

对于每种语义角色知网还给出了说明和实例，因为篇幅关系这里只选取了一些主要的语义角色（见表7.6）。

表7.6 HowNet语义角色列表

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784730119-95c7c776-ade9-44fe-af31-40f97fdd9cd7.jpeg)

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784732092-978b7b2d-1897-4399-a89c-e6388fab4abd.jpeg)

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784732991-f87812c5-3489-4f0a-952f-d721d72a2b8e.jpeg)

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784734073-5e0cb4bd-3681-4f21-8410-521949a16e29.jpeg)

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784735099-3e1650bf-edb0-4749-a56b-d77c573f87d0.jpeg)

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784736048-d023f39d-0290-49f8-9f33-468f433339ba.jpeg)

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784736637-b7399608-fcc2-4cac-b9b5-96f215990f15.jpeg)

### 7.3.4 分类原则与事件分类

HowNet的分类系统很有特点，它不是机械地按照静态实体（Things或Entity）和动态事件（Events）进行分类，而是将构成静态实体和动态事件的所有组件，包括属性（Attributes）、属性值（Attributes-Values）、时间（Time）、部分（Parts）和空间（Space）都作为顶层的分类根节点，可以看到即使在当时就已经渗透了面向对象的设计思想。图7.9反映了这些根节点之间的关系。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784737593-a66a6dd9-1072-4650-991f-ee1726d707fe.jpeg)

图7.9 根节点之间的关系

如图7.9所示，实体（Things）是属性（Attributes）的宿主，也就是说属性依赖于实体，属性可以有不同的取值（Attributes-Values）。实体可以包含不同的部分（Parts），相对于部分，实体是整体。实体还是事件（Events）的角色。事件有发生的时间（TIme）和所处的空间（Space），事件行为的结果可以导致属性值的改变。

同时，HowNet在设计分类体系时，严格遵循如下原则。

（1）仅概念被考虑在内。被分类的是概念而不是词汇。例如，概念“植物”，也就是概念“树”的上位词，因为一个词可能是有歧义的，但概念则不同。当我们说“植物”是“树”的上位词时，“植物”应该是“活的有机体”，而“树”的概念应该是“一个高大的多年生植物”。

（2）下位词的概念必须继承其上位词的概念所有的基本属性，同时，它必须至少有一个属性，是它的上位词的概念所不具备的。

（3）分类方案不允许存在杂项或杂烩类。每当一个实体被发现从任何一类中脱离出来，那么整个分类方案都将是有瑕疵的，并需要重新设计分类方案。

（4）任何类都可以被视为定义真实世界概念的义原。换句话说，HowNet中义原的确定和概念的分类是同时进行的。

（5）不同类型的概念，如事物、部分、事件、属性等，都应该有自己的唯一分类方案。

（6）不允许类别之间的重叠是指，换句话说，任何一个概念只允许有一个类或一个直接的上位概念。当实在无法避免时，在HowNet中的原语可以弥补这样的情况。

HowNet中的事件是指发生在一个特定的时间和空间的语言，在大多数情况下，由动词表示。在HowNet中有812个事件类。事件的概念可分为两种类型：内在的事件和外在的事件。内在的事件包括：（1）事物的发展（包括物理事物的发展和精神事物的发展）。（2）静态事件和动态事件之间的对应关系。（3）事件的蕴涵。（4）事件（通常由动词表示）与事实（由名词通常表示）之间的同源（RoleFrame）角色框架。外在的事件包括：（1）事件参与的事物。（2）在事件、属性和属性值之间的关系。（3）事件转换的语义角色。（4）主题域的特征。

该事件的概念可以细分为如下两个更高层次的类别组，如图7.10所示。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784738473-47d2850d-a21a-4387-8b83-946801451296.jpeg)

图7.10 高层事件层次结构

第一组表示非现实的动作，而第二组指现实的动作。第一组划分成两个子组：关系的事件和状态的事件。第二组指动作的事件，也细分为如下两个子类：一般动作，如“做”、“制作”等，以及具体的动作，如“吃”、“买”、“走”等。

一般认为，知网原创最显著的独特之处是双轴（Biaxial）事件理论。该理论基于812个事件类并标记了超过20 000个中文和英文动词。该理论揭示了事件的内在双轴方案。两轴彼此相交。一轴是事物发展，另一轴是静态事件与动态事件之间的对应关系。双轴理论被证明是由知网研究人员所做的重要的贡献之一。

（1）事物的发展：事物的基本特征反映了所发生的事物，即事物存在的状态和事物发生的变化。

虽然事物在形式和性质上有很大的不同，但它们都有共同的基本发展过程。物理的事物，无论是有生命的还是无生命的或社会单位，都会经历基本相同的发展过程，也就是形成，之后成长和成熟，逐渐变为老、弱，最终物理生命衰亡的发展过程。换句话说，它们经历了从生到死或从出现到消失的过程。对于任何发生的事情，如会议、生日聚会或公司，甚至政府的发展基本过程几乎相同，即开始或出现，可能会进入一个高潮或以后蓬勃发展，终于结束或消亡。

（2）静态事件和动态事件之间的对应。

知网经过研究已经发现静态事件概念和动态事件概念之间的完美对应。任何关系或状态都由其对应的动作引发或改变。例如，表示占有关系的事件，如“有”、“拥有”或“丢失”；对应于表示占有关系的变化，如事件“取”和“借用”或“给予”和“借出”。下面两节将分别详细讨论关系事件和关系变化事件之间，以及状态事件和状态变化事件之间的对应关系。知网共发现和表达了9种关系事件的子类。如下为关系事件和关系改变事件之间的对应。

❑ is-a关系。

❑ possession（领属）关系。

❑ comparison（比较）关系。

❑ fitting（适合）关系。

❑ inclusion（包含）关系。

❑ relatedness（相关性）关系。

❑ cause-result（原因—结果）关系。

❑ location/time（位置/时间）关系。

❑ arithmetic（数学）关系。

显然，上述9类事件表示的既不是行为也不是状态。它们只是表达一些特殊种类的关系。例如，“他是一个教师，事件“是”表示is-a关系；在“我的哥哥有一辆汽车”的事件中，“有”表示领属关系，这一关系连接了“我的哥哥”和“车“。同样的，在“我的父亲是在伦敦”事件中，“是”表示位置关系，也就是，“我的父亲”和“伦敦”之间的关系。事件不表示“哥哥”和“汽车”或“父亲”和“伦敦”的任何状态，它们也不表达任何行为。上述9种类型的关系是由它们相应的关系变化的事件造成的。简而言之，实体之间的任何关系都是由对应该关系的行为引起的。例如，领属关系如possess、own或do not have是由表示领属改变的行为引起的，如take、buy、borrow和give、sell、lend，等等。

### 7.3.5 实体分类

如图7.11所示，知网的实体分类包含的万物、部件、时间和空间是其顶级节点的义原。知网有151个实体分类，覆盖“万物”、“时间”、“空间”和“部件”。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784739774-e0caa725-b867-4641-8e42-3be9da3cd9c7.jpeg)

图7.11 万物结构的顶层

对比物理事物的分类，传统的所谓抽象事物的分类在不同的语言资源中有很大变化。其中的大多数看起来是抽象事物的子类或名词，其中自然包括了属性的概念（或名词）。HowNet认为，在语义方面具体性或抽象性并不是必要的。他们采用了独特的方案。

1．万物（thing）

万物是指主要的实体，它能导致或引起事件的发生。万物包括物质（物理事物）、精神（心理事物）和群体（社会单元）。物理事物是由有物质形态的材料构成的对象，而心理事物没有物质形态。物理事物包括有生命的物质和无生命的物质。心理事物包括发生的心理特征。万物可被划分为如图7.12所示的形式。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784741198-a62f75c2-8aae-44ef-a96a-a016a3bd1af5.jpeg)

图7.12 实体分类的架构

类似于知网事件的分类，实体分类不仅是实体的上位—下义关系的层次结构，而且也是义原定义的表示。从某种意义上说，它为公理和推理规则做准备。下面出详细的解释。

对实体分类的部分作出如下解释。

❑ 一个“实体”的下义词是“万物”; “万物”的下义词是“物质”; “物质”的下义词是“生物”; “生物”的下义词是“动物”; “动物”的下义词是“人”；最后“拟人物”是“人”的下义词。这是上位—下义关系的层次结构，如图7.12所示。

❑ 义原的定义传达了如下概念的详细信息。

➢ “万物”是“存在（在世界上）”，是“实体”。

➢ “物质”是一个“万物”，它有着“外观”的属性，可以“被感知”。

➢ “生物”是一种“物理事物”，里面有“年龄”的属性，可以“活着”, “死去”和“具有代谢过程”，可以“繁殖后代”及“被繁殖”。

➢ “包括人类的动物”，是一个“生物”，里面有“性别”的属性，可以“移动”，可以“体验心理状态（如感觉）”。

➢ “人”是具有某种特殊属性的“动物”，如“姓名”、“能力”和“智慧”，并能“思考”和“说话”。

➢ “拟人物”（如妖精）是一个“人”，但“不是真实的”。

❑ 如前上位词属性的继承所述，知网指定任何概念都继承了上位词的所有基本属性，并且必须至少有一个属性是上位词所不具有的。这里，实体分类部分展示在图7.12中。“人”继承了所有上位词的属性。“人”不仅有“名字”、“能力”和“智慧”属性，还有“性别”（来自“动物”）、“年龄”（来自“生物”）和“外观”（来自“物理事物”）属性。此外，“人”不仅能“思考”和“说话”，而且可以“移动”和“体验心理状态”（来自“动物”），并可以“活着”、“死去”，以及“新陈代谢”、“繁殖后代”和“被繁殖”（来自“生物”）。

❑ 上义词义位的覆盖和传递。

➢ 根据实体的分类（一）。

{thing|万物} {entity|实体：{ExistAppear|存现：existent={～}}}

“thing”可以有“ExistAppear|存现”。事件的部分分类如图7.13所示。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784742371-a2de48b1-75d7-48e8-a0ea-d6565328b872.jpeg)

图7.13 事件的部分分类

“thing”也可以有“exist|存在”、“ComeToWorld|问世”、“ExistNot|不存在”、“appear|出现”、“exposure|露出”或“happen|发生”。

➢ 根据实体的分类（二）。

{animate|生物} {physical|物质：HostOf={Age|年龄}, {alive|活着：experiencer={～}},{die|死：experiencer={～}}, {metabolize|代谢：experiencer={～}}, {reproduce|生殖：agent= {～}, PatientProduct={～}}}

“living thing”可以有“metabolize|代谢”（对于生命是必需的）。事件的部分分类如图7.14所示。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784743832-b52b4b01-a3bd-48a1-bf18-85dc96a4b621.jpeg)

图7.14 事件的部分分类

“living thing”可以有“digest|消化”、“absorb|吸收”、“eat|吃”、“drink|喝”、“feed|喂”、“excrete|排泄”或“respire|呼吸”。

这就是所说的覆盖下义词。

➢ 实体分类如图7.15所示。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784746613-b89293df-6562-4ed3-843f-cae5a2b6769b.jpeg)

图7.15 实体分类

实体分类如图7.15所示。

“human”可以有“absorb|吸收”、“eat|吃”、“drink|喝”或“respire|呼吸”。

这就是所谓的“传递自上位词”。

2．部分（component）

在知网中，使用“component|部分”义原指向“part”的根节点。“component|部分”包含两个义原子类：“part|部件”和“fittings|配件”，如图7.16所示。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784747177-1612a14e-e42c-4173-848a-3a12c25e0e5b.jpeg)

图7.16 实体分类体系中的部分

实体部分分类的解释如下。

（1）“thing”和“component”是上位词，同为“entity”的兄弟节点，并且“component”有两个下义词：“part”和“fittings”。

（2）义原的定义给出概念的进一步信息。

➢ “component”是一个“entity”，它需要结合另一个“entity”才能形成整体。

➢ “part”是一个“component”，它同样需要结合另一个“entity”才能形成整体。“part”还是其中必需的部分。“fittings”是一个“component”，它同样需要结合另一个“entity”才能形成整体，但并非是绝对的必要。例如，按照知网的定义，鞋子的鞋底是“part”，鞋子的鞋带是“fittings”。

3．空间

其实很多事情隐含着空间的概念，如土地、水、天空和场所等，或机构，如学校、医院、商店等，或建筑物，如房子等，甚至许多器物，如汽车、家具、容器等。“空间”作为7个根节点类之一，可以高度抽象地分为如下两个子类。

（1）方向，如东、西、风向等。

（2）地点，如地址、点、入口。

在实体分类中，空间的义原定义的分层结构如图7.17所示。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784748078-90c4ac49-276b-448f-b960-db75b7ab7b83.jpeg)

图7.17 空间的义原定义的分层结构

4．时间

类似于空间和场所，时间有其自身的特征，HowNet称之为片段（section），不同于子类或部件，因为它们既不是子类，也没有部件。在知网中，它们被置于次要特征的分类中。

一个经常提出的问题是，为什么不把时间分为“时间点”和“时间段”？这个建议听起来很合理，有时可能是有用的，但实践起来是非常困难的。是否是一个时间点或一个时间段可能会在许多情况下依赖于有关事件的视图。例如，“下午”是时间段还是时间点呢？在我们看来，在许多情况下，它取决于与之相关的事件。

时间都有其特殊的片段和特性，在知网的二级特征列表中指定，如图7.18所示。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784748731-452f2238-ba7b-4fe1-9168-6b60eb5ee127.jpeg)

图7.18 实体分类体系中的时间

### 7.3.6 属性与分类

1．属性

知网中的属性为任何对象所必须拥有的一组属性。对象之间的相似性和差异是由它们携带的属性来确定的。没有无属性的对象。人类被附加了自然属性，如种族、肤色、性别、年龄、思考能力和语言运用；以及社会属性，如民族、家庭出身、职业、财富等。在特定条件下，附加的属性甚至比主体（宿主）本身更重要，事实最明显地体现在，“next-best alternative”的练习与人们日常生活密切相关。举例来说，我们要在墙上钉钉子，但没有锤子，什么是最好的替代工具呢？显然，将是一些具有接近锤子属性的东西，在此情况下，重量和硬度会是关键的属性。属性（如重量、硬度等）与宿主（锤子）之间的关系是直接的。这些属性只是来源于其宿主，反之亦然。属性—主体的关系不同于部分—整体的关系。知网通过编码的方式反映了这种差异。这样属性必须被定义到可能的宿主类中，代码如下。

​        "depth"

​        DEF= {Depth|深度：host={physical|物质}}

​        "depth"

​        DEF={Abstmsemss|深浅：host={Content|内容}}

事实上，自然语言属性的定义也表明了它们的宿主。在WordNet中“deep”的定义如下。

（1）“deep”：程度向下、向后或向内。

（2）“deep”：心理或智力深度的程度。

知网的属性分类包含247个义原类，并且它们被划分为7个子类，如图7.19所示。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784750772-4ff39091-cdc4-4025-ac58-c5fec2cb03c1.jpeg)

图7.19 属性分类

2．属性值的分类

一方面，每个属性都指向其宿主，另一方面也指向其对应的值。换句话说，属性和属性值之间存在内在的相互参照的关系。所有的属性都有其对应的值，同时所有属性值都有相应的属性。

知网的属性值分类包含889个义原类。正如知网之前所述，该属性被划分为7个子类，属性值可以固有地被分为7子类，对应于图7.20所示的属性子类别。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784751684-9922b7a6-a772-481a-98c2-7fddc9bb77f1.jpeg)

图7.20 属性子类别

知网浏览器提供了属性和对应的属性值的详细列表，用于计算的关系，如图7.21和图7.22所示。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784752797-e542feae-c842-4830-9452-979a3ad1ceae.jpeg)

图7.21 属性值列表（1）

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784753472-39f5e687-5730-4dae-89b4-790e4b31a2ee.jpeg)

图7.22 属性值列表（2）

### 7.3.7 相似度计算与实例

在知网中特别设计了一个模块可以采集和表示概念的相似度，名为概念相似性计算器（CRC）。此装置能够给出知网中任何一个中文或英文词汇的任何意义的概念场。

概念相似性度量（CSM）能够度量知网中任何词语和短语的任何词义之间的相似度。在知网中相似性的测量是基于概念的，它已被证明达到非常高的精确度。表7.7显示了概念“doctor”之间的相似性，表示为“licensed medical practitioner”，并分别与医学领域的其他概念相关。

表7.7 doctor的相似度计算

| 概念1  | 概念2       | 相似度值  |
| ------ | ----------- | --------- |
| doctor | Physician   | 1.000 00  |
| doctor | Surgeon     | 0.950 00  |
| doctor | Nurse       | 0.883 333 |
| doctor | Pharmacist  | 0.550 000 |
| doctor | Anesthetist | 0.340 000 |
| doctor | Patient     | 0.203 636 |
| doctor | Disease     | 0.018 605 |

如表7.7所示，在知网中相似性的定义是基于意义的，与关联性无关。例如，“doctor”和“nurse”具有高度的相似性（0.883 333），但“doctor”和“Disease”具有非常低的相似性（0.001 247）。事实上它们在意义上没有相似性，但它们却是高相关性的。下面给出HowNet的相似度算法的步骤。

Step 1．检测两个给出的概念。如果它们是同义词，那么相似度为1.000 000。

Step 2．检测两个给出的概念。如果它们是同义类，那么相似度为0.950 000。

Step 3．检测两个给出的概念。如果它们是反义词或对义词，那么相似度为0.000 000。

Step 4．基于如下的特殊语义角色进行计算。

CoEvent和MaterialOf，获取这些语义角色的值作为概念的DEF。“charity（施舍、捐助）”的DEF如下。

​        DEF={affairs|事务：CoEvent={TakeCare|照料：manner=  {voluntary|自愿}}  {help|帮

​    助：manner= {voluntary |自愿}}}

当计算“charity”的相似度时，使用它的DEF，代码如下。

​        {TakeCare|照料：manner={voluntary|自愿}} {help|帮助：manner={voluntary|自愿}}

Step 5．检测两个给出的概念。如果它们不适合前三步的情况，那么一些更加精细的计算会被执行。

Step 5.1．检测两个给出的概念，看看它们的DEF是否是相互包含的，p1的值将被给出。如果两个DEF是相互包含的，那么p1=1.000 000；如果不是，那么p1=0.000 000。“psychotherapist”（心理医生）和“doctor”（医生）的DEF如下。

​        " psychotherapist ":

​        DEF={human| 人 :HostOf={Occupation| 职 位 }, domain={medical| 医 }, {doctor| 医 治 ：

​    agent={～}, content={disease|疾病：cause={mental|精神} }}}

​        " doctor ":

​        DEF={human| 人 :HostOf={Occupation| 职 位 }, domain={medical| 医 }, {doctor| 医 治 ：

​    agent={～}}}

​        "doctor"的DEF能够被嵌入到 "psychotherapist"的DEF中，那么p1 = 1.000000。

Step 5.2．要检测两个给出概念的范畴义原（DEF的第一个单元）以查看它们之间的相似度，那么p2将被给出。

当所有的义原被组织进一个层次结构时，表示为上下位的关系。假设两个义原的距离是d, p2可由公式（1）计算：

p2 = a/(d+a)（1）

这里，d是第一个概念的范畴义原和第二个概念的范畴义原在义原层次结构上的距离。它是一个正整数。指定a=1.6。以义原“human|人”和“tree|树”为例，计算它们之间的距离。

义原“human|人”的上位树如下。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784754373-049592ed-83ae-49a5-9297-729e5011de3d.jpeg)

义原“tree|树”的上位树如下。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784755007-16d1b624-b8b3-4e4d-bb60-6e169e83e800.jpeg)

这两个义原共同的上位词为“animate|生物”。这两个义原到它们共同的上位词的长度各自为两步，那么这两个义原之间的距离为4步，也就是d=4。

​                        p2 = a/(d+a)  = 1.6/(4+1.6)  = 1.6/5.6  = 0.285714.

Step 5.3．检测在描述节点内的两个概念之间的相似度，p3将被给出，基于公式（2）进行计算。

​                                    p3=Ns＊2/(Nc1+Nc2)    (2)

注意：描述节点由"semantic role = sememe"或"ZeroRole = sememe"组合构成。

其中，Ns表示给出的两个概念的DEF中同一描述节点的数量；Nc 1表示给出的第一个概念的DEF中描述节点的数量；Nc 2表示给出的第一个概念的DEF中描述节点的数量。比较如下两个概念的描述节点，并将比较结果展示在表7.8中。

表7.8 描述节点之间的比较结果（一）

| "private instructor"的描述节点 | "assistant"的描述节点     |
| ------------------------------ | ------------------------- |
| ZeroRole={human\|人}           | ZeroRole={human\|人}      |
|                                | HostOf={Occupation\|职位} |
| ZeroRole={teach\|教}           | ZeroRole={teach\|教}      |
| Agent={～}                     | Agent={～}                |
| Location={family\|家庭}        |                           |

​        " private instructor "（家庭教师、私教）:

​        DEF={human|人：{teach|教：agent={～} , location={family|家庭}}}

​        " assistant"（助理）:

​        DEF={human|人：HostOf={Occupation|职位}, {teach|教：agent={～}}}

根据表7.8可知，“private instructor”和“assistant”有三个相同的描述节点（in italic）。在这个阶段相似度被计算为如下结果。

​        p3(private instructor, assistant) = 3＊2/(4+4)  = 6/8 =  0.750000.

Step 5.4．在知网实体分类层次结构中，每个语义类都有一个定义。

"human|人"有如下定义。

​        DEF={AnimalHuman|动物：HostOf={ Ability |能力} {Name|姓名} {Wisdom|智慧}, {speak|

​    说：agent={～}}, {think|思考：agent={～}}}

当一个语义类在知识词典中被定义为与概念相同的形式时，Step 5.4给出了与Step 5.3相同的计算，也就是，检测在两个义原类定义之间的描述节点的相似度，p4被给出。

Step 5.5．相似度的最终计算将基于如下内容。

​                      S(cl, c2) = (p1＊β1 + p2＊β2 + p3＊β3 + p4＊β4)＊ y   (3)

β1、β2、β3、β4是计算不同阶段的权重。它们的关系如下。

β1+β2+β3+β4=1，并且它们的取值分别为：β1=0.1, β2= 0.1, β3= 0.7, β4= 0.1。

当两个给出的概念在同一层次上具有相同的事件义原时，并且如表7.9所示，在事件义原下存在语义角色的比较对，那么惩罚因子y会被应用于公式（3）的解决方案中，HowNet指定y=0.35。相反，指定y =1.0。语义角色的比较对如表7.9所示。

表7.9 语义角色的比较对

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784755596-b64d9cbc-222a-4978-81f4-3520edaede22.jpeg)

下面给出几个语义计算的例子。

以"doctor"和"nurse"之间的相似度计算为例，这两个词的DEF如下。

​        " doctor ":

​        DEF={human| 人 :HostOf={Occupation| 职 位 }, domain={medical| 医 }, {doctor| 医 治 ：

​    agent={～}}}

​        " nurse "（护士）:

​        DEF={human| 人 :HostOf={Occupation| 职 位 }, domain={medical| 医 }, {TakeCare| 照 料 ：

​    agent={～} }}

根据Step 5.1，结果为：p1=0.000 000。

根据Step 5.2的公式（1），结果为：p2=a/(d+a)=1.6/(0+1.6)=1.000 000。

根据Step 5.3的p 3=Ns*2/(Nc 1+Nc2)，计算的结果如下。

根据表7.10中"doctor"和"nurse"之间DEF的比较，Ns=3, Nc1=5, Nc2=5。

表7.10 描述节点之间的比较结果（二）

| "doctor"的描述节点        | "nurse"的描述节点                    |
| ------------------------- | ------------------------------------ |
| ZeroRole={human\|人}      | ZeroRole={human\|人}                 |
| HostOf={Occupation\|职位} | HostOf={Occupation\|职位}            |
| domain={medical\|医}      | domain={medical\|医}                 |
| ZeroRole={doctor\|医治}   | ZeroRole={TakeCare\|照料：agent={～} |
| Agent={～}                | Agent={～}                           |

​        p3 = Ns＊2/(Nc1+Nc2) =  3＊2/(5+5) = 6/10 = 0.600000.

描述节点之间的比较结果（二）如表7.10所示。

如表7.10所示，那么Step 5.4如下。"doctor"和"nurse"的范畴义原是相同的："human|人"，其在分类结构中的DEF如下。

​        {AnimalHuman|动物：HostOf={Ability|能力}  {Name|姓名}  {Wisdom|智慧}, {speak|

​    说：agent={～}}, {think|思考：agent={～}}}

{human|人}的描述节点如表7.11所示。

表7.11 {human|人}的描述节点

| 描述节点{human\|人}          |
| ---------------------------- |
| ZeroRole={Animalhuman\|动物} |
| HostOf={Ability\|能力}       |
| HostOf={Name\|姓名}          |
| HostOf={Wisdom\|智慧}        |
| ZeroRole=, {speak\|说}       |
| Agent={～}                   |
| ZeroRole=, {think\|思考}     |
| Agent={～}                   |

如表7.11所示，其结果如下。

​        p4 = Ns＊2/(Nc1+Nc2) = 8＊2/(8+8) = 1.000000.

两个给出的词汇在同一层次有同一事件义原，并且在表7.11中，在事件义原下不存在语义角色的比较对，y = 1.0。最终，"doctor"和"nurse"之间的相似度如下。

​        S(doctor, nurse) = (pl＊β1 + p2＊β2 + p3＊β3 + p4＊β4)＊ y

​        = (0.000000＊0.1+1.000000＊0.1+0.600000＊0.7+1.000000＊0.1)＊ 1.0

​        = (0.000000+0.100000+0.420000+0.10000)＊ 1.0

​        = 0.620000.

以"doctor"和"patient"之间的相似度为例，"doctor"和"patient"的DEF如下。

​        " doctor ":

​        DEF={human| 人 :HostOf={Occupation| 职 位 }, domain={medical| 医 }, {doctor| 医

​    治：agent={～}}}

​        " patient"（病人）:

​        DEF={human|人：domain={medical|医}, {SufferFrom|罹患：experiencer={～}} , {doctor|医

​    治：paitent={～}}}

根据Step 5.1给出的结果计算：p1 = 0.000 000，并且根据Step 5.2给出的公式（1）计算如下。

​        p2 = a/(d+a)  = 1.6/(0+1.6)  = 1.000000.

得到Step 5.3，根据这个公式计算：p3=Ns*2/(Nc 1+Nc 2)。

根据表7.11，得到：Ns=3, Nc 1=5, Nc 2=5。

​        p3 = Ns＊2/(Nc1+Nc2) = 3＊2/(5+6) = 6/11 = 0.545455.

描述节点之间的比较结果（三）如表7.12所示。

表7.12 描述节点之间的比较结果（三）

| "doctor"的描述节点        | "patient"的描述节点                             |
| ------------------------- | ----------------------------------------------- |
|                           | ZeroRole={human\|人} ZeroRole={human\|人}       |
| HostOf={Occupation\|职位} |                                                 |
| domain={medical\|医}      | domain={medical\|医}                            |
|                           | ZeroRole={doctor\|医治} ZeroRole={doctor\|医治} |
| Agent={～}                | Patient={～}                                    |
|                           | ZeroRole={SufferFrom\|罹患}                     |
|                           | experiencer={～}                                |

如表7.12所示，Step 5.4如下。"doctor"和"patient"的范畴义原是相同的："human|人"，其在分类中的DEF如下。

​        {AnimalHuman| 动 物 :HostOf={Ability| 能 力 }{Name| 姓 名 }  {Wisdom| 智 慧 }, {speak|

​    说：agent={～}}, {think|思考：agent={～}}}

结果为：P4=Ns*2/(Ncl+Nc2)=8*2/(8+8)=1.000 000。

两个给定的词在同一层次具有相同的事件义原，并且在表7.13中，在事件语义下存在一个语义角色的比较对，y=0.35。

表7.13 描述节点之间的比较结果（四）

| ZeroRole={doctor\|医治} | ZeroRole={doctor\|医治} |
| ----------------------- | ----------------------- |
| Agent={～}              | Patient={～}            |

描述节点之间的比较结果（四）如表7.13所示。

根据Step 5.5可得出如下结果。

​        S(doctor, patient) = (p1＊β1 + p2＊β2 + p3＊β3 + p4＊β4)＊ y

​        = (0.000000＊0.1+1.000000＊0.1+0.545455＊0.7+1.000000＊0.1)＊ 0.35

​        = (0.000000+0.100000+0.3818185+0.100000)＊0.35

​        = 0.5818185＊0.35

​        = 0.203636.

总结一下，在"doctor"和"patient"之间的相似度不同于"doctor"和"nurse"之间的相似度。应该确信，知网CSM得到的结果是合理的并且是可以接受的。

❑ 在"doctor"和"nurse"之间的相似度为0.620 000。

❑ 在"doctor"和"patient"之间的相似度为0.203 636。
