7.1 语料库概述

由于电脑存储的容量大，文本资料真实，信息提取快速、准确。语言学家借助电子语料可以从多方面、多层次描写语言并验证各种语言理论和假设，甚至建立新的语言模式和语言观。因此，语料库也就应运而生了。

语料库（Corpus，复数为Corpora或Corpuses）被定义为：为语言研究和应用而收集的，在计算机中存储的语言材料，由自然出现的书面语或口语的样本汇集而成，用来代表特定的语言或语言变体。

——来自2011年出版的《语言学名词》。

语料库的出现是计算语言学和语言学发展的结果，也是信息社会的需要。

语料库并非语篇的简单堆砌或集合，它应具有如下几个基本特征。

❑ 样本代表性。

❑ 规模有限性。

❑ 机读形式化。

在7.1.3节将通过“国家语委语料库”的建设实例给出详细的说明。

### 7.1.1 语料库的简史

世界上最早的语料库是1961年，弗朗西斯（N. Francis）和库塞拉（H. Kucera）为首的一批语言学家和计算机专家汇集在美国的布朗大学，合作建成了世界上最早的机读语料库，即布朗语料库（Brown Corpus）。布朗语料库包含各种不同的文体，根据抽样调查决定了一个他们认为英文平衡语料库应有的分布，再根据此分布收集了共计100多万个词的语料，并加上词性标注，由人工输入计算机。所以，布朗语料库确定了语料库的两个最早的特征：一个是使用计算机存储，并可以机读；另一个是为使语料具备代表性，语料的选择服从某种分布。这是语料库建设的最初特征，它们一直伴随着语料库的建设，并发展完善起来。

之后，同类的语料库逐渐发展起来。20世纪80年代，以朗文语料库（Longman Corpus）为代表的语料库逐步走向商用，这使得语料库的建设走出学术界而进入商业市场，使中型语料库焕发了新的生命力。比起最早的布朗语料库，朗文语料库的规模显著扩大了，达到5 000万词级。朗文语料库由如下三个大的语料库组成，分别为：朗文/兰开斯特英语语料库（LLELC）、朗文口语语料库（LSC）、朗文英语学习者语料库（LCLE），其建设的主要目标之一是编纂英语学习词典，为外国人学习英语提供服务。

1992年，美国宾夕法尼亚大学（University of Pennsylvania）语言资源联盟（Linguistic Data Consortium, LDC）宣布成立（http://www.ldc.upenn.edu/）。这是第二代语料库的标准性事件。它的目的是构建、收集和发布用于研发的语音和文本数据库、词典及其他资源。该联盟提供了一种可供大规模发展和普遍的共享用于语言工程技术研究的资源的新机制，目前已经拥有超过100家公司、大学和政府机构会员单位。为197个会员机构和458个非会员机构提供数据。在众多的语言学资源中，LDC的一个著名成果就是主持开发了宾州树库（UPenn Tree Bank, PTB）。该项目由宾夕法尼亚大学计算机系的M.Marcus主持，到1993年完成了近300万个词的英语句子的句法结构标注。

2000年，由LDC（语言数据协会）发行了UPenn的中文树库（CTB 1.0），最初规模较小，仅包含10万个词，4 185句，到目前的8.0版，已经发展为7万多句，包含100万个词的大型汉语树库，成为研究汉语句法识别最重要、最权威的资源。

语料库在中国发展较晚，但由于互联网的发展，大规模、超大规模的网页资源成为具有代表性的汉语生语料库的数据来源。其中，最为著名的是搜狗互联网语料库（URL:http://www.sogou.com/labs/resource/t.php）。该语料库来源于互联网各种类型的1.3亿个原始网页，压缩前的大小超过了5TB。目前的版本是2008版，所有语料都可免费下载，用于研究如下内容。

❑ 迷你版（样例数据，61KB）:tar.gz格式、zip格式。

❑ 完整版（1TB）:（硬盘拷贝）。

❑ 历史版本（130GB）:V 2.0（硬盘拷贝）。

语料格式说明如下。

​        <doc>

​        <docno>页面ID</docno>

​        <url>页面URL</url>

​        页面原始内容（网页原始内容，保留了HTML标记）

​        </doc>

熟语料库方面，较为有名的汉语标注语料库都是在20世纪90年代之后发展起来的。在目前众多的语法语料库中，规模较大、代表性较强、质量较高、语料开放的有如下两个。

（1）国家现代汉语语料库（URL:http://www.cncorpus.org/index.aspx）。该语料库是国家语委主持建立的一个现代汉语书面语通用平衡样本语料库，它于1993年开始建设。该语料库的第一批语料数据是1919—1992年的语料，共7 000万字，以后每年递增1 000万字，是目前最大的现代汉语平衡语料库。该语料库以语言文字的信息处理、语言文字规范和标准的制定、语言文字的学术研究、语文教育和语言文字的社会应用为主要服务对象。

（2）PFR语料库。由北京大学计算语言学研究所与富士通公司（Fujitsu）合作，以2 700万字的1998年《人民日报》为源语料，手工加工、标注建立的语料库，加工项目包括词语切分、词性标注、专有名词（专有名词短语）标注（示例），并制定出《现代汉语语料库加工手册——词语切分与词性标注》。

对于上述两个熟语料库，下文都有介绍，这里不进行详细说明。

### 7.1.2 语言资源库的分类

传统上，语料库语言学根据选择的语料内容、选择的方式及建设目的的不同，将语料库的类型划分为如下5个部分。下面给出简要的说明。

❑ 通用性和专用性。通用语料库：又称为一般语料库，是文本的集合，为了保证收集的语料具有广泛的代表性，对语料采用系统的办法进行采集，用于事先未指定的语言学研究。通用语料库应有“平衡性”，即语料库要收集不同类型、不同领域的包括口头的或书面的文本。通用语料库也称为系统语料库或平衡语料库，有时还称为“核心语料库”。当然，严格说来，这些不同的名称之间还是存在差异的。专用语料库：又称为专门用途语料库（Special Purpose Corpus），指用于某种特殊研究的语料库。它又可分为方言语料库、区域性语料库、非标准语料库和初学者语料库等。它还可分为书面语料库和口语语料库。口语语料库是研究口语特征的重要工具，如语音语调的规律，其研究成果在语音合成中有重要应用。口语语料库的建设涉及口语真实语料的采集及语音转录，工作量极大。

❑ 异质性与同质性。异质语料库：大量收集文字材料，尽可能广泛地接受各类材料而没有事先制定任何选材原则。收藏的文本在格式和内容上各异，而存储的格式和原来的出版物完全一样。同质语料库：是“异质语料库”的对立面，一般用于专业语料库。

❑ 动态性和静态性。动态语料库：又称为监控语料库（Monitor Corpora），用于观察现代语言的变迁。与此相对的是静态语料库，只收集某一固定时期的共时语言材料，语料库建成后，就不再扩充。

❑ 共时性与历时性。共时语料库：指收集同一时代的语言使用样本构成的语料库。与此相对的是历时语料库，指收集不同时代的语言使用样本构成的语料库。历时语料库主要用来观察和研究语言的历时变化，共时语料库则用来观察和研究某一时代的语言使用状况。对历时语料库的分解可以得到多个共时语料库。

❑ 平行/双语语料库。把两种语言中完全对应的文本输入计算机，通过分析对比找出两者的对应关系，可用于机器翻译研究。近年来还出现了多语语料库，如可以从网上免费下载的Europarl Parallel Corpus（European Parliament Proceedings Parallel Corpus）就收集了多达11种欧洲议会的多语言文集。

——来自《汉语语料库应用教程》

在实践中，同一语料库可以具备上述多种特性，这5个相互对立的特征揭示了一个重要的原则，即任何语料库的语料选择都是一种平衡性的结果。语料的选择要综合考虑上述5个维度的平衡。例如，小规模的通用语料库（通用分词语料库）添加了大量专业领域语料之后，可以变成专业语料库。静态语料库通过定期添加外部语料，变为动态语料库，等等。笔者认为上述各个要点作为特性来分析和评估语料库更为合适。而语料库的分类应该根据构建的目的不同而划分。目前，常见的语料库类别大概有两种：语法语料库和语义知识库。

（1）语法语料库。语法语料库常作为NLP的基础资源，用于学习和训练NLP模型，如训练分词、命名实体、词性标注、句法解析、语义组块、论元角色等基础NLP任务的语料库。这些语料库的多数都来自影响面较大的大众媒体、书籍文献等语料，具有广泛性和代表性；语料的选择都经过精挑细选，构成上要求具有典型性，能够涵盖绝大多数的语言现象。例如，分词语料需要包含足够多的高频、常用词汇；句法树库必须涵盖绝大多数的汉语句型，等等。语法语料库开发出的熟语料会作为基础语言资源，最终训练成语言模型，因此对标注精度要求高。在开发过程中不可避免地需要大量人工标注或人工校对工作，除非是国家级项目，语法语料库容量都不大，源语料的容量一般不会超过1GB。

（2）语义知识库。语义知识库包括如下两大类：早期手工建立的语义知识库，如HowNet、WordNet语义知识库。这类知识库依赖于手工标注，因此容量都不大。HowNet包含1 500多个义原、10多万个常用词汇。董振东先生历时十年才开发完成。这类知识库在自然语言处理中可用于提供词汇的论元角色、上下位关系、语义消歧和相似度计算等。由于词汇量不大，其在实践中的应用范围也很有限。另一种是近些年逐渐流行起来的百科知识库。由于Google的Word 2Vec算法的成功，人们通过算法可以直接训练出词汇间的语义相似度。Word2Vec的训练过程不依赖于手工标注，语义相似度正确率很高，开创了大规模非监督语义计算的先河。因此，百科知识库的建设目标是为NLP语义计算提供大规模、全覆盖的语义知识资源，有条件地兼顾推理运算的支持。与语法语料库相比，一般百科知识库的容量都比较大，最小的中文维基百科也有30GB。

后面章节会对这两种知识库进行详细的解读。

### 7.1.3 语料库的设计实例：国家语委语料库

无论是语法语料库还是语义知识库，它们的建设都是一个既耗费时间，又耗费金钱的过程。建设一个具有代表性的大型语料库需要多个团队、历时多年才能完成。因此，在投资建设语料库之前，必须对语料库进行总体规划。规划一个语料库的方方面面可以从如下各个要素来综合考虑（见表7.1）。

表7.1 语料库设计要素

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784717767-ba4167f1-b8e7-4610-88e9-236b882c8cce.jpeg)

下面以国家语委现代汉语语料库为例，介绍语料库的主要内容和功能。

1．国家语委现代汉语语料库概况

国家语委语料库于1991年12月国家语言文字工作委员会提出立项。被列为国家语委“九五”、“十五”科研重大项目，得到国家科技部“863”、“973”计划多个项目的支持。该语料库建设主要用于：语言文字的信息处理、语言文字规范和标准的制定、语言文字的学术研究、语文教育、语言文字的社会应用等。从1998年年底开始，最早建成7 000万字的生语料库；到2015年年底发布已完成1亿字的生语料和5 000万字的标注语料；该语料库建设和加工工作还在继续进行。

介绍该语料库的目的在于，可以将其作为用户自主开发语料库的一个范本，用于实际的NLP应用项目。下面介绍该语料库的基本概况。

（1）选材的内容分布（见图7.1）。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784718861-8f4b2736-5654-4239-b586-dbaef811099a.jpeg)

图7.1 语料库选材的内容分布

图7.1显示了语料国家语委语料库的语料获取选材的内容分布信息。

❑ 人文与社会科学类。人文与社会科学类划分为8个大类和30个小类，约占语料总量的50%。大类包括：政法、历史、社会、经济、艺术、文学、军体和生活。

❑ 自然科学类。自然科学划分为6类，占语料总量的30%，包括：数理、生化、天文地理、海洋气象、农林和医药卫生。

❑ 综合类。综合类语料由应用文和难于归类的其他语料两部分组成。应用文主要分为6类，占语料总量的20%，包括：行政公文、章程法规、司法文书、商业文告、礼仪辞令和实用文书。

（2）选材的历时性分布（见图7.2）。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784719716-878244c9-11db-421b-bc34-7db2f58ae155.jpeg)

图7.2 语料库选材的历时性分布

如图7.2所示，以人文与社会科学类为例。

❑ 1919—1925年，约占5%。五四时期的白话文仍留有文言痕迹，选用少量的影响较大的代表性作品。被选用的作品在行文上要尽量符合现代汉语的规范。

❑ 1926—1949年，约占15%。白话文逐步脱离文言痕迹，现代汉语日趋成熟。

❑ 1950—1965年，约占25%。新中国的成立给社会文化生活带来巨大变化，新词新语大量涌现。

❑ 1966—1976年，约占5%。文革时期的作品，其中许多仅作为历史词语存于现代汉语之中。

❑ 1977年至今，占50%以上。新时期的语料代表了现代汉语的新发展。之后，每年按选材原则增补约300万字的语料。

（3）选材的抽样。

抽样原则如下。

❑ 语言材料的多样性。选用政论性文章、新闻报道、各类文学艺术作品、科普读物、通俗读物、学术专论及各种应用文语体等现代汉语作品。

❑ 语言材料的完整性。2 000字以下的文章原则上全篇采用。报纸可采取整篇文章、整版和整张相结合的方式。

❑ 语言材料的遍历性。选材要注意各学科、各学科分支、各行各业，以及社会生活各个领域的语言文字应用的代表性。

抽样的数量与方式如下。

❑ 书籍。抽样数量一般占全书字数的3%～5%，字数最多不超过10 000字。样本容量为2 000字，允许±500字的伸缩。

❑ 报纸。采用整版（4版或8版）选用的方式。不同的报纸选用不同的月份，以免内容重复。报纸上的广告、启事等归在应用文类，不在报刊类语料的统计之列。

❑ 刊物。每本刊物上所选的总字数原则上不超过5 000字。样本容量为2 000字，允许±500字的伸缩。对同一版面的不同文章，按从上至下、从左到右的顺序选取。一个样本必为同一作者的同一篇文章，限字数不限样本数（报刊除外）。每个样本之中必为连续的语料内容。

❑ 应用文（包括广告、说明书等）。2 000字以内的应用文宜整篇选用。对于篇幅较长的应用文，所选样本的容量为2 000字，允许±500字的伸缩。

（4）开放资源。

国家语委在语料库的建设过程中，还发布了一系列的成果：建立了100万字（5万句）句法树库（未开放）、现代汉语分词词表（88 000词条，已开放）、语料切分和标注软件、树库标注软件、语料库校对加工软件、语料检索工具软件、语料统计工具软件、语料库管理软件等。感兴趣的读者可以下载（地址：http://www.cncorpus.org/ resources.aspx）有关的应用程序和统计数据。

如图7.3所示，用户可以在构建自己的语料库时，使用上述程序资源，特别是在小规模的分词、词性标注、拼音标注、字频、词频统计处理时，这些应用程序都能发挥高精度、高速度的作用。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784720832-656418b5-f8bd-4175-b643-0994330ca832.jpeg)

图7.3 语委汉语语料库的应用程序和统计数据

2．语委汉语语料库的功能

语委汉语语料库是国家级的语料库，也是其他语料库建设的范本。重点考察标注语料库部分。国家语委汉语语料库的标注语料，共有约5 000万字。标注是指分词和词类标注，历经3次人工校对，准确率大于98%。由于语料库用于非盈利目的，读者可以通过网络操作该语料库。

（1）语料检索：http://www.cncorpus.org/CCindex.aspx。

如图7.4所示，语料库提供了分词和标注信息。注：该语料库的每一条语料都提供了语料来源信息，包括：样本名称、作者、写作时间、出版时间、书刊名称、编著者和出版社。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784721832-a1766831-6a50-4eda-804a-4e624ddf2afa.jpeg)

图7.4 语料检索界面

（2）字词检索：http://www.cncorpus.org/wdindex.aspx。

如图7.5所示，语料库还提供了字词检索，通过输入的关键词，查询语料库中对应的词汇，同时提供次数和词频信息。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784722369-2bece63b-6434-4ae5-8ba2-86c7c2ea1d55.jpeg)

图7.5 字词检索界面

（3）分词/词性标注：http://www.cncorpus.org/CpsParser.aspx。

如图7.6所示，该功能可根据输入的句子，自动进行分词和词性标注。

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/21473765/1631784722800-eac536a0-006e-4ac5-9ddb-2e0735e3a723.jpeg)

图7.6 分词/词性标注界面

其他功能还包括，汉语拼音自动标注（http://www.cncorpus.org/CpsPinyinTagger.aspx）、字词频率统计（http://www.cncorpus.org/CpsTongji.aspx）等。这里不一一列举。

语料库的Web功能与前面介绍的语料切分和标注软件、语料库校对加工软件、语料检索工具软件、语料统计工具软件等功能都是一致的。读者可以通过下载应用程序，在本地对自己的语料进行处理。

### 7.1.4 语料库的层次加工

由于NLP对语言的解析是一个流程化的结构，流程中的每个节点都对应着相应的语料资源，这就构成了语料库的不同加工层次。语料库的加工可以包含如下几个层次：预处理、分词/词性标注、句法分析、语义分析、语用分析等。除预处理阶段之外，其他几个阶段都可以单独应用。目前，质量和效率都符合商业精度要求的自动标注系统，仅在分词/词性标注层次得到实现，而句法和语义分析两个层次是下一步算法发展的重点，语用分析完全还未涉及。最常用的语料加工层次如下。

（1）汉语分词与词性标注。

（2）句法成分标注。由于句法成分标注的精度还未达到商业级的应用，最近很多专家使用语义组块标注来替代句法标注，对句子进行浅层语义分析。后面的章节会涉及此内容。

（3）语义角色标注。一般在句法成分标注之后进行，给每个句法成分标注上语义信息，如施事、受事等。

（4）语用信息标注。就是对文本标注上相关的语用信息，如话题、述题、话轮、省略成分等，为语用分析服务。它可以在生语料的基础上进行，也可以在熟语料的基础上进行。

另外，在4个主层次之间，还可以根据应用系统需求的不同，添加辅助层次的标注，如命名实体识别、专有名词的标注、最大名词短语的标注、主题标引等。总之，研究者和使用者可以根据需求对标注好的主层次的任意一层进行进一步的标注，只要这种标注有助于达到最终的应用目标。

生语料库只有经过标注之后才能变成熟语料使用。标注方法有两种：人工标注和自动标注。如果自动标注器的精度不高，则只能使用人工标注的方法。如果使用人工加工、标注语料库，则需要遵循一些基本的原则。对此，G.Leech曾提出了有标记的语料库应满足如下基本原则。

❑ 所作标注可以删除，恢复到原始语料。

❑ 所作标注可以单独抽出，另处存储。

❑ 语料库的最终使用者应该知道标注原则和标注符号的意义。

❑ 标注规范，即标注所用标准的描述和解释性文档。

❑ 记录标注者、标注地点和怎样标注的文档。

❑ 由于标注通常会出现差错、不一致或歧义现象，因此应当有关于标注质量的说明。

❑ 在语料的使用说明中，应该说明标注是什么人用什么方法做的。

❑ 应向用户声明，语料标注并非绝对无误，它只是一种可能有用的工具。

❑ 标注模式应不依赖于某一家之言，尽可能中立。

事实证明，一方面，人工标注语料是一项枯燥、繁重，而又难于统一规范的任务；另一方面，人工标注的投入非常大、耗时很长、成本高昂，又不可避免地受到人为主观因素的影响，要想达到理想效果是一个极其艰难的过程。以宾州树库为例，整个项目到现在历时10多年，人工标注的句法树也不到8万句。虽然，这7万多句涵盖了大多数的汉语句法现象，但包含的汉语词汇也只有5万多个。

而在实践中，不同项目都有领域专业性。一般来讲，很少有人从零开始构建自己的语法语料库。更现实的做法是使用自动分词/标注器，自动标注专业语料。自动标注也分为两种情况：一种情况是已经具有领域词典；另一种情况是没有领域词典。如果开发者已经有领域词典，建议参考第5章的命名实体识别一节的相关算法策略，一般能达到95%左右的分词结果。

如果还没有领域词典，则需要一个训练专业语料库，形成专业语言模型的过程。以分词、词性标注为例，常用的自动标注方法是首先将专业语料按文件的容量分为若干个领域语料包。用一个高精度、通用性的分词/词性标注器对其中一个领域语料包自动标注。要求该分词/词性标注器的基础训练语料必须是开源的。然后对自动标注后的专业语料进行人工校对，找出错误，进行修正。校对工作最少由两人共同完成，一人负责找出错误，另一人负责审核。一份语料最少要校对两次，才能确保准确率不低于98%。然后，将校对好的语料作为新增语料纳入到基础训练语料中。使用分词/词性标注器对新的语料库进行训练，这样就获得了第一个版本的领域专属分词模型。

接下来，使用新的分词模型自动标注下一个语料包，之后再校对、再添加、再训练，如此迭代，直至分词/词性标注器对所有语料包的分词结果精度高于预定的一个精度百分比，就算标注工作训练完成。
